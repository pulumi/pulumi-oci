// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package database

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Database Management resource in Oracle Cloud Infrastructure Database service.
//
// Enable / Update / Disable database management for the specified Oracle Database instance.
//
// Database Management requires `USER_NAME`, `PASSWORD_SECRET_ID` and `PRIVATE_END_POINT_ID`.
// `database.0.database_management_config` is updated to appropriate managementType and managementStatus for the specified Oracle Database instance.
//
// ## Import
//
// Import is not supported for this resource.
type CloudDatabaseManagement struct {
	pulumi.CustomResourceState

	Credentialdetails CloudDatabaseManagementCredentialdetailsOutput `pulumi:"credentialdetails"`
	// The database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	DatabaseId pulumi.StringOutput `pulumi:"databaseId"`
	// (Updatable) Use this flag to enable/disable database management
	EnableManagement pulumi.BoolOutput `pulumi:"enableManagement"`
	// The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
	KmsKeyId pulumi.StringOutput `pulumi:"kmsKeyId"`
	// The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation.
	KmsKeyVersionId pulumi.StringOutput `pulumi:"kmsKeyVersionId"`
	// The date and time when the latest database backup was created.
	LastBackupTimestamp pulumi.StringOutput `pulumi:"lastBackupTimestamp"`
	// Additional information about the current lifecycle state.
	LifecycleDetails pulumi.StringOutput `pulumi:"lifecycleDetails"`
	// (Updatable) Specifies database management type
	// enum:
	// - `BASIC`
	// - `ADVANCED`
	ManagementType pulumi.StringOutput `pulumi:"managementType"`
	// The national character set for the database.
	NcharacterSet pulumi.StringOutput `pulumi:"ncharacterSet"`
	// The name of the pluggable database. The name must begin with an alphabetic character and can contain a maximum of thirty alphanumeric characters. Special characters are not permitted. Pluggable database should not be same as database name.
	PdbName pulumi.StringOutput `pulumi:"pdbName"`
	// (Updatable) The private end point [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	PrivateEndPointId pulumi.StringOutput `pulumi:"privateEndPointId"`
	// (Updatable) Database service name
	ServiceName pulumi.StringOutput `pulumi:"serviceName"`
	// Specifies a prefix for the `Oracle SID` of the database to be created.
	SidPrefix pulumi.StringOutput `pulumi:"sidPrefix"`
	// Point in time recovery timeStamp of the source database at which cloned database system is cloned from the source database system, as described in [RFC 3339](https://tools.ietf.org/rfc/rfc3339)
	SourceDatabasePointInTimeRecoveryTimestamp pulumi.StringOutput `pulumi:"sourceDatabasePointInTimeRecoveryTimestamp"`
	// The current state of the database.
	State pulumi.StringOutput `pulumi:"state"`
	// The date and time the database was created.
	TimeCreated pulumi.StringOutput `pulumi:"timeCreated"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Oracle Cloud Infrastructure [vault](https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm#concepts).
	VaultId pulumi.StringOutput `pulumi:"vaultId"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
	VmClusterId pulumi.StringOutput `pulumi:"vmClusterId"`
}

// NewCloudDatabaseManagement registers a new resource with the given unique name, arguments, and options.
func NewCloudDatabaseManagement(ctx *pulumi.Context,
	name string, args *CloudDatabaseManagementArgs, opts ...pulumi.ResourceOption) (*CloudDatabaseManagement, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Credentialdetails == nil {
		return nil, errors.New("invalid value for required argument 'Credentialdetails'")
	}
	if args.DatabaseId == nil {
		return nil, errors.New("invalid value for required argument 'DatabaseId'")
	}
	if args.ManagementType == nil {
		return nil, errors.New("invalid value for required argument 'ManagementType'")
	}
	if args.PrivateEndPointId == nil {
		return nil, errors.New("invalid value for required argument 'PrivateEndPointId'")
	}
	if args.ServiceName == nil {
		return nil, errors.New("invalid value for required argument 'ServiceName'")
	}
	var resource CloudDatabaseManagement
	err := ctx.RegisterResource("oci:Database/cloudDatabaseManagement:CloudDatabaseManagement", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCloudDatabaseManagement gets an existing CloudDatabaseManagement resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCloudDatabaseManagement(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CloudDatabaseManagementState, opts ...pulumi.ResourceOption) (*CloudDatabaseManagement, error) {
	var resource CloudDatabaseManagement
	err := ctx.ReadResource("oci:Database/cloudDatabaseManagement:CloudDatabaseManagement", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CloudDatabaseManagement resources.
type cloudDatabaseManagementState struct {
	Credentialdetails *CloudDatabaseManagementCredentialdetails `pulumi:"credentialdetails"`
	// The database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	DatabaseId *string `pulumi:"databaseId"`
	// (Updatable) Use this flag to enable/disable database management
	EnableManagement *bool `pulumi:"enableManagement"`
	// The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
	KmsKeyId *string `pulumi:"kmsKeyId"`
	// The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation.
	KmsKeyVersionId *string `pulumi:"kmsKeyVersionId"`
	// The date and time when the latest database backup was created.
	LastBackupTimestamp *string `pulumi:"lastBackupTimestamp"`
	// Additional information about the current lifecycle state.
	LifecycleDetails *string `pulumi:"lifecycleDetails"`
	// (Updatable) Specifies database management type
	// enum:
	// - `BASIC`
	// - `ADVANCED`
	ManagementType *string `pulumi:"managementType"`
	// The national character set for the database.
	NcharacterSet *string `pulumi:"ncharacterSet"`
	// The name of the pluggable database. The name must begin with an alphabetic character and can contain a maximum of thirty alphanumeric characters. Special characters are not permitted. Pluggable database should not be same as database name.
	PdbName *string `pulumi:"pdbName"`
	// (Updatable) The private end point [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	PrivateEndPointId *string `pulumi:"privateEndPointId"`
	// (Updatable) Database service name
	ServiceName *string `pulumi:"serviceName"`
	// Specifies a prefix for the `Oracle SID` of the database to be created.
	SidPrefix *string `pulumi:"sidPrefix"`
	// Point in time recovery timeStamp of the source database at which cloned database system is cloned from the source database system, as described in [RFC 3339](https://tools.ietf.org/rfc/rfc3339)
	SourceDatabasePointInTimeRecoveryTimestamp *string `pulumi:"sourceDatabasePointInTimeRecoveryTimestamp"`
	// The current state of the database.
	State *string `pulumi:"state"`
	// The date and time the database was created.
	TimeCreated *string `pulumi:"timeCreated"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Oracle Cloud Infrastructure [vault](https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm#concepts).
	VaultId *string `pulumi:"vaultId"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
	VmClusterId *string `pulumi:"vmClusterId"`
}

type CloudDatabaseManagementState struct {
	Credentialdetails CloudDatabaseManagementCredentialdetailsPtrInput
	// The database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	DatabaseId pulumi.StringPtrInput
	// (Updatable) Use this flag to enable/disable database management
	EnableManagement pulumi.BoolPtrInput
	// The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
	KmsKeyId pulumi.StringPtrInput
	// The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation.
	KmsKeyVersionId pulumi.StringPtrInput
	// The date and time when the latest database backup was created.
	LastBackupTimestamp pulumi.StringPtrInput
	// Additional information about the current lifecycle state.
	LifecycleDetails pulumi.StringPtrInput
	// (Updatable) Specifies database management type
	// enum:
	// - `BASIC`
	// - `ADVANCED`
	ManagementType pulumi.StringPtrInput
	// The national character set for the database.
	NcharacterSet pulumi.StringPtrInput
	// The name of the pluggable database. The name must begin with an alphabetic character and can contain a maximum of thirty alphanumeric characters. Special characters are not permitted. Pluggable database should not be same as database name.
	PdbName pulumi.StringPtrInput
	// (Updatable) The private end point [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	PrivateEndPointId pulumi.StringPtrInput
	// (Updatable) Database service name
	ServiceName pulumi.StringPtrInput
	// Specifies a prefix for the `Oracle SID` of the database to be created.
	SidPrefix pulumi.StringPtrInput
	// Point in time recovery timeStamp of the source database at which cloned database system is cloned from the source database system, as described in [RFC 3339](https://tools.ietf.org/rfc/rfc3339)
	SourceDatabasePointInTimeRecoveryTimestamp pulumi.StringPtrInput
	// The current state of the database.
	State pulumi.StringPtrInput
	// The date and time the database was created.
	TimeCreated pulumi.StringPtrInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Oracle Cloud Infrastructure [vault](https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm#concepts).
	VaultId pulumi.StringPtrInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
	VmClusterId pulumi.StringPtrInput
}

func (CloudDatabaseManagementState) ElementType() reflect.Type {
	return reflect.TypeOf((*cloudDatabaseManagementState)(nil)).Elem()
}

type cloudDatabaseManagementArgs struct {
	Credentialdetails CloudDatabaseManagementCredentialdetails `pulumi:"credentialdetails"`
	// The database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	DatabaseId string `pulumi:"databaseId"`
	// (Updatable) Specifies database management type
	// enum:
	// - `BASIC`
	// - `ADVANCED`
	ManagementType string `pulumi:"managementType"`
	// (Updatable) The private end point [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	PrivateEndPointId string `pulumi:"privateEndPointId"`
	// (Updatable) Database service name
	ServiceName string `pulumi:"serviceName"`
}

// The set of arguments for constructing a CloudDatabaseManagement resource.
type CloudDatabaseManagementArgs struct {
	Credentialdetails CloudDatabaseManagementCredentialdetailsInput
	// The database [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	DatabaseId pulumi.StringInput
	// (Updatable) Specifies database management type
	// enum:
	// - `BASIC`
	// - `ADVANCED`
	ManagementType pulumi.StringInput
	// (Updatable) The private end point [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm).
	PrivateEndPointId pulumi.StringInput
	// (Updatable) Database service name
	ServiceName pulumi.StringInput
}

func (CloudDatabaseManagementArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cloudDatabaseManagementArgs)(nil)).Elem()
}

type CloudDatabaseManagementInput interface {
	pulumi.Input

	ToCloudDatabaseManagementOutput() CloudDatabaseManagementOutput
	ToCloudDatabaseManagementOutputWithContext(ctx context.Context) CloudDatabaseManagementOutput
}

func (*CloudDatabaseManagement) ElementType() reflect.Type {
	return reflect.TypeOf((**CloudDatabaseManagement)(nil)).Elem()
}

func (i *CloudDatabaseManagement) ToCloudDatabaseManagementOutput() CloudDatabaseManagementOutput {
	return i.ToCloudDatabaseManagementOutputWithContext(context.Background())
}

func (i *CloudDatabaseManagement) ToCloudDatabaseManagementOutputWithContext(ctx context.Context) CloudDatabaseManagementOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudDatabaseManagementOutput)
}

// CloudDatabaseManagementArrayInput is an input type that accepts CloudDatabaseManagementArray and CloudDatabaseManagementArrayOutput values.
// You can construct a concrete instance of `CloudDatabaseManagementArrayInput` via:
//
//          CloudDatabaseManagementArray{ CloudDatabaseManagementArgs{...} }
type CloudDatabaseManagementArrayInput interface {
	pulumi.Input

	ToCloudDatabaseManagementArrayOutput() CloudDatabaseManagementArrayOutput
	ToCloudDatabaseManagementArrayOutputWithContext(context.Context) CloudDatabaseManagementArrayOutput
}

type CloudDatabaseManagementArray []CloudDatabaseManagementInput

func (CloudDatabaseManagementArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CloudDatabaseManagement)(nil)).Elem()
}

func (i CloudDatabaseManagementArray) ToCloudDatabaseManagementArrayOutput() CloudDatabaseManagementArrayOutput {
	return i.ToCloudDatabaseManagementArrayOutputWithContext(context.Background())
}

func (i CloudDatabaseManagementArray) ToCloudDatabaseManagementArrayOutputWithContext(ctx context.Context) CloudDatabaseManagementArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudDatabaseManagementArrayOutput)
}

// CloudDatabaseManagementMapInput is an input type that accepts CloudDatabaseManagementMap and CloudDatabaseManagementMapOutput values.
// You can construct a concrete instance of `CloudDatabaseManagementMapInput` via:
//
//          CloudDatabaseManagementMap{ "key": CloudDatabaseManagementArgs{...} }
type CloudDatabaseManagementMapInput interface {
	pulumi.Input

	ToCloudDatabaseManagementMapOutput() CloudDatabaseManagementMapOutput
	ToCloudDatabaseManagementMapOutputWithContext(context.Context) CloudDatabaseManagementMapOutput
}

type CloudDatabaseManagementMap map[string]CloudDatabaseManagementInput

func (CloudDatabaseManagementMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CloudDatabaseManagement)(nil)).Elem()
}

func (i CloudDatabaseManagementMap) ToCloudDatabaseManagementMapOutput() CloudDatabaseManagementMapOutput {
	return i.ToCloudDatabaseManagementMapOutputWithContext(context.Background())
}

func (i CloudDatabaseManagementMap) ToCloudDatabaseManagementMapOutputWithContext(ctx context.Context) CloudDatabaseManagementMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudDatabaseManagementMapOutput)
}

type CloudDatabaseManagementOutput struct{ *pulumi.OutputState }

func (CloudDatabaseManagementOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CloudDatabaseManagement)(nil)).Elem()
}

func (o CloudDatabaseManagementOutput) ToCloudDatabaseManagementOutput() CloudDatabaseManagementOutput {
	return o
}

func (o CloudDatabaseManagementOutput) ToCloudDatabaseManagementOutputWithContext(ctx context.Context) CloudDatabaseManagementOutput {
	return o
}

type CloudDatabaseManagementArrayOutput struct{ *pulumi.OutputState }

func (CloudDatabaseManagementArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CloudDatabaseManagement)(nil)).Elem()
}

func (o CloudDatabaseManagementArrayOutput) ToCloudDatabaseManagementArrayOutput() CloudDatabaseManagementArrayOutput {
	return o
}

func (o CloudDatabaseManagementArrayOutput) ToCloudDatabaseManagementArrayOutputWithContext(ctx context.Context) CloudDatabaseManagementArrayOutput {
	return o
}

func (o CloudDatabaseManagementArrayOutput) Index(i pulumi.IntInput) CloudDatabaseManagementOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CloudDatabaseManagement {
		return vs[0].([]*CloudDatabaseManagement)[vs[1].(int)]
	}).(CloudDatabaseManagementOutput)
}

type CloudDatabaseManagementMapOutput struct{ *pulumi.OutputState }

func (CloudDatabaseManagementMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CloudDatabaseManagement)(nil)).Elem()
}

func (o CloudDatabaseManagementMapOutput) ToCloudDatabaseManagementMapOutput() CloudDatabaseManagementMapOutput {
	return o
}

func (o CloudDatabaseManagementMapOutput) ToCloudDatabaseManagementMapOutputWithContext(ctx context.Context) CloudDatabaseManagementMapOutput {
	return o
}

func (o CloudDatabaseManagementMapOutput) MapIndex(k pulumi.StringInput) CloudDatabaseManagementOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CloudDatabaseManagement {
		return vs[0].(map[string]*CloudDatabaseManagement)[vs[1].(string)]
	}).(CloudDatabaseManagementOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CloudDatabaseManagementInput)(nil)).Elem(), &CloudDatabaseManagement{})
	pulumi.RegisterInputType(reflect.TypeOf((*CloudDatabaseManagementArrayInput)(nil)).Elem(), CloudDatabaseManagementArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CloudDatabaseManagementMapInput)(nil)).Elem(), CloudDatabaseManagementMap{})
	pulumi.RegisterOutputType(CloudDatabaseManagementOutput{})
	pulumi.RegisterOutputType(CloudDatabaseManagementArrayOutput{})
	pulumi.RegisterOutputType(CloudDatabaseManagementMapOutput{})
}
