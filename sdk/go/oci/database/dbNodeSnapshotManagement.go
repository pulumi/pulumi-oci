// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package database

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-oci/sdk/v4/go/oci/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Db Node Snapshot Management resource in Oracle Cloud Infrastructure Database service.
//
// Create Exadata Database Node Snapshots in the Exadb VM cluster.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-oci/sdk/v4/go/oci/database"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
// func main() {
// pulumi.Run(func(ctx *pulumi.Context) error {
// var splat0 []interface{}
// for _, val0 := range testExadbVmCluster.NodeResource {
// splat0 = append(splat0, val0.NodeId)
// }
// _, err := database.NewDbNodeSnapshotManagement(ctx, "test_db_node_snapshot_management", &database.DbNodeSnapshotManagementArgs{
// ExadbVmClusterId: pulumi.Any(testExadbVmCluster.Id),
// SourceDbnodeIds: toPulumiArray(splat0),
// Name: pulumi.Any(dbNodeSnapshotSuffix),
// DefinedTags: pulumi.Any(dbNodeSnapshotDefinedTags),
// FreeformTags: pulumi.Any(dbNodeSnapshotFreeformTags),
// })
// if err != nil {
// return err
// }
// return nil
// })
// }
// func toPulumiArray(arr []) pulumi.Array {
// var pulumiArr pulumi.Array
// for _, v := range arr {
// pulumiArr = append(pulumiArr, pulumi.(v))
// }
// return pulumiArr
// }
// ```
//
// ## Import
//
// Import is not supported for this resource.
type DbNodeSnapshotManagement struct {
	pulumi.CustomResourceState

	// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
	DefinedTags pulumi.StringMapOutput `pulumi:"definedTags"`
	// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
	ExadbVmClusterId pulumi.StringOutput `pulumi:"exadbVmClusterId"`
	// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
	FreeformTags pulumi.StringMapOutput `pulumi:"freeformTags"`
	// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
	Name pulumi.StringOutput `pulumi:"name"`
	// The list of created Exadata Database Node Snapshots.
	Snapshots DbNodeSnapshotManagementSnapshotArrayOutput `pulumi:"snapshots"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	SourceDbnodeIds pulumi.StringArrayOutput `pulumi:"sourceDbnodeIds"`
}

// NewDbNodeSnapshotManagement registers a new resource with the given unique name, arguments, and options.
func NewDbNodeSnapshotManagement(ctx *pulumi.Context,
	name string, args *DbNodeSnapshotManagementArgs, opts ...pulumi.ResourceOption) (*DbNodeSnapshotManagement, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ExadbVmClusterId == nil {
		return nil, errors.New("invalid value for required argument 'ExadbVmClusterId'")
	}
	if args.SourceDbnodeIds == nil {
		return nil, errors.New("invalid value for required argument 'SourceDbnodeIds'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource DbNodeSnapshotManagement
	err := ctx.RegisterResource("oci:Database/dbNodeSnapshotManagement:DbNodeSnapshotManagement", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDbNodeSnapshotManagement gets an existing DbNodeSnapshotManagement resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDbNodeSnapshotManagement(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DbNodeSnapshotManagementState, opts ...pulumi.ResourceOption) (*DbNodeSnapshotManagement, error) {
	var resource DbNodeSnapshotManagement
	err := ctx.ReadResource("oci:Database/dbNodeSnapshotManagement:DbNodeSnapshotManagement", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DbNodeSnapshotManagement resources.
type dbNodeSnapshotManagementState struct {
	// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
	DefinedTags map[string]string `pulumi:"definedTags"`
	// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
	ExadbVmClusterId *string `pulumi:"exadbVmClusterId"`
	// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
	FreeformTags map[string]string `pulumi:"freeformTags"`
	// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
	Name *string `pulumi:"name"`
	// The list of created Exadata Database Node Snapshots.
	Snapshots []DbNodeSnapshotManagementSnapshot `pulumi:"snapshots"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	SourceDbnodeIds []string `pulumi:"sourceDbnodeIds"`
}

type DbNodeSnapshotManagementState struct {
	// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
	DefinedTags pulumi.StringMapInput
	// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
	ExadbVmClusterId pulumi.StringPtrInput
	// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
	FreeformTags pulumi.StringMapInput
	// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
	Name pulumi.StringPtrInput
	// The list of created Exadata Database Node Snapshots.
	Snapshots DbNodeSnapshotManagementSnapshotArrayInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	SourceDbnodeIds pulumi.StringArrayInput
}

func (DbNodeSnapshotManagementState) ElementType() reflect.Type {
	return reflect.TypeOf((*dbNodeSnapshotManagementState)(nil)).Elem()
}

type dbNodeSnapshotManagementArgs struct {
	// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
	DefinedTags map[string]string `pulumi:"definedTags"`
	// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
	ExadbVmClusterId string `pulumi:"exadbVmClusterId"`
	// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
	FreeformTags map[string]string `pulumi:"freeformTags"`
	// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
	Name *string `pulumi:"name"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	SourceDbnodeIds []string `pulumi:"sourceDbnodeIds"`
}

// The set of arguments for constructing a DbNodeSnapshotManagement resource.
type DbNodeSnapshotManagementArgs struct {
	// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
	DefinedTags pulumi.StringMapInput
	// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
	ExadbVmClusterId pulumi.StringInput
	// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
	FreeformTags pulumi.StringMapInput
	// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
	Name pulumi.StringPtrInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	SourceDbnodeIds pulumi.StringArrayInput
}

func (DbNodeSnapshotManagementArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*dbNodeSnapshotManagementArgs)(nil)).Elem()
}

type DbNodeSnapshotManagementInput interface {
	pulumi.Input

	ToDbNodeSnapshotManagementOutput() DbNodeSnapshotManagementOutput
	ToDbNodeSnapshotManagementOutputWithContext(ctx context.Context) DbNodeSnapshotManagementOutput
}

func (*DbNodeSnapshotManagement) ElementType() reflect.Type {
	return reflect.TypeOf((**DbNodeSnapshotManagement)(nil)).Elem()
}

func (i *DbNodeSnapshotManagement) ToDbNodeSnapshotManagementOutput() DbNodeSnapshotManagementOutput {
	return i.ToDbNodeSnapshotManagementOutputWithContext(context.Background())
}

func (i *DbNodeSnapshotManagement) ToDbNodeSnapshotManagementOutputWithContext(ctx context.Context) DbNodeSnapshotManagementOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DbNodeSnapshotManagementOutput)
}

// DbNodeSnapshotManagementArrayInput is an input type that accepts DbNodeSnapshotManagementArray and DbNodeSnapshotManagementArrayOutput values.
// You can construct a concrete instance of `DbNodeSnapshotManagementArrayInput` via:
//
//	DbNodeSnapshotManagementArray{ DbNodeSnapshotManagementArgs{...} }
type DbNodeSnapshotManagementArrayInput interface {
	pulumi.Input

	ToDbNodeSnapshotManagementArrayOutput() DbNodeSnapshotManagementArrayOutput
	ToDbNodeSnapshotManagementArrayOutputWithContext(context.Context) DbNodeSnapshotManagementArrayOutput
}

type DbNodeSnapshotManagementArray []DbNodeSnapshotManagementInput

func (DbNodeSnapshotManagementArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DbNodeSnapshotManagement)(nil)).Elem()
}

func (i DbNodeSnapshotManagementArray) ToDbNodeSnapshotManagementArrayOutput() DbNodeSnapshotManagementArrayOutput {
	return i.ToDbNodeSnapshotManagementArrayOutputWithContext(context.Background())
}

func (i DbNodeSnapshotManagementArray) ToDbNodeSnapshotManagementArrayOutputWithContext(ctx context.Context) DbNodeSnapshotManagementArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DbNodeSnapshotManagementArrayOutput)
}

// DbNodeSnapshotManagementMapInput is an input type that accepts DbNodeSnapshotManagementMap and DbNodeSnapshotManagementMapOutput values.
// You can construct a concrete instance of `DbNodeSnapshotManagementMapInput` via:
//
//	DbNodeSnapshotManagementMap{ "key": DbNodeSnapshotManagementArgs{...} }
type DbNodeSnapshotManagementMapInput interface {
	pulumi.Input

	ToDbNodeSnapshotManagementMapOutput() DbNodeSnapshotManagementMapOutput
	ToDbNodeSnapshotManagementMapOutputWithContext(context.Context) DbNodeSnapshotManagementMapOutput
}

type DbNodeSnapshotManagementMap map[string]DbNodeSnapshotManagementInput

func (DbNodeSnapshotManagementMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DbNodeSnapshotManagement)(nil)).Elem()
}

func (i DbNodeSnapshotManagementMap) ToDbNodeSnapshotManagementMapOutput() DbNodeSnapshotManagementMapOutput {
	return i.ToDbNodeSnapshotManagementMapOutputWithContext(context.Background())
}

func (i DbNodeSnapshotManagementMap) ToDbNodeSnapshotManagementMapOutputWithContext(ctx context.Context) DbNodeSnapshotManagementMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DbNodeSnapshotManagementMapOutput)
}

type DbNodeSnapshotManagementOutput struct{ *pulumi.OutputState }

func (DbNodeSnapshotManagementOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**DbNodeSnapshotManagement)(nil)).Elem()
}

func (o DbNodeSnapshotManagementOutput) ToDbNodeSnapshotManagementOutput() DbNodeSnapshotManagementOutput {
	return o
}

func (o DbNodeSnapshotManagementOutput) ToDbNodeSnapshotManagementOutputWithContext(ctx context.Context) DbNodeSnapshotManagementOutput {
	return o
}

// Defined tags for the Exadata Database Node Snapshots. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
func (o DbNodeSnapshotManagementOutput) DefinedTags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) pulumi.StringMapOutput { return v.DefinedTags }).(pulumi.StringMapOutput)
}

// The Exadata VM cluster [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) on Exascale Infrastructure.
func (o DbNodeSnapshotManagementOutput) ExadbVmClusterId() pulumi.StringOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) pulumi.StringOutput { return v.ExadbVmClusterId }).(pulumi.StringOutput)
}

// Free-form tags for the Exadata Database Node Snapshots. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
func (o DbNodeSnapshotManagementOutput) FreeformTags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) pulumi.StringMapOutput { return v.FreeformTags }).(pulumi.StringMapOutput)
}

// The suffix of the Exadata Database Node Snapshot names (Snpashot name = Node hostname + "-" + suffix). The Exadata Database Node Snapshot name should be unique.
func (o DbNodeSnapshotManagementOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The list of created Exadata Database Node Snapshots.
func (o DbNodeSnapshotManagementOutput) Snapshots() DbNodeSnapshotManagementSnapshotArrayOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) DbNodeSnapshotManagementSnapshotArrayOutput { return v.Snapshots }).(DbNodeSnapshotManagementSnapshotArrayOutput)
}

// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the Exadata Database Nodes for which snapshots will be created.
//
// ** IMPORTANT **
// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
func (o DbNodeSnapshotManagementOutput) SourceDbnodeIds() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *DbNodeSnapshotManagement) pulumi.StringArrayOutput { return v.SourceDbnodeIds }).(pulumi.StringArrayOutput)
}

type DbNodeSnapshotManagementArrayOutput struct{ *pulumi.OutputState }

func (DbNodeSnapshotManagementArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*DbNodeSnapshotManagement)(nil)).Elem()
}

func (o DbNodeSnapshotManagementArrayOutput) ToDbNodeSnapshotManagementArrayOutput() DbNodeSnapshotManagementArrayOutput {
	return o
}

func (o DbNodeSnapshotManagementArrayOutput) ToDbNodeSnapshotManagementArrayOutputWithContext(ctx context.Context) DbNodeSnapshotManagementArrayOutput {
	return o
}

func (o DbNodeSnapshotManagementArrayOutput) Index(i pulumi.IntInput) DbNodeSnapshotManagementOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *DbNodeSnapshotManagement {
		return vs[0].([]*DbNodeSnapshotManagement)[vs[1].(int)]
	}).(DbNodeSnapshotManagementOutput)
}

type DbNodeSnapshotManagementMapOutput struct{ *pulumi.OutputState }

func (DbNodeSnapshotManagementMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*DbNodeSnapshotManagement)(nil)).Elem()
}

func (o DbNodeSnapshotManagementMapOutput) ToDbNodeSnapshotManagementMapOutput() DbNodeSnapshotManagementMapOutput {
	return o
}

func (o DbNodeSnapshotManagementMapOutput) ToDbNodeSnapshotManagementMapOutputWithContext(ctx context.Context) DbNodeSnapshotManagementMapOutput {
	return o
}

func (o DbNodeSnapshotManagementMapOutput) MapIndex(k pulumi.StringInput) DbNodeSnapshotManagementOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *DbNodeSnapshotManagement {
		return vs[0].(map[string]*DbNodeSnapshotManagement)[vs[1].(string)]
	}).(DbNodeSnapshotManagementOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*DbNodeSnapshotManagementInput)(nil)).Elem(), &DbNodeSnapshotManagement{})
	pulumi.RegisterInputType(reflect.TypeOf((*DbNodeSnapshotManagementArrayInput)(nil)).Elem(), DbNodeSnapshotManagementArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*DbNodeSnapshotManagementMapInput)(nil)).Elem(), DbNodeSnapshotManagementMap{})
	pulumi.RegisterOutputType(DbNodeSnapshotManagementOutput{})
	pulumi.RegisterOutputType(DbNodeSnapshotManagementArrayOutput{})
	pulumi.RegisterOutputType(DbNodeSnapshotManagementMapOutput{})
}
