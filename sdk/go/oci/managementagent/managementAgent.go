// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package managementagent

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Management Agent resource in Oracle Cloud Infrastructure Management Agent service.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-oci/sdk/go/oci/ManagementAgent"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := ManagementAgent.NewManagementAgent(ctx, "testManagementAgent", &ManagementAgent.ManagementAgentArgs{
//				ManagedAgentId: pulumi.Any(oci_management_agent_managed_agent.Test_managed_agent.Id),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ManagementAgents can be imported using the `id`, e.g.
//
// ```sh
//
//	$ pulumi import oci:ManagementAgent/managementAgent:ManagementAgent test_management_agent "id"
//
// ```
type ManagementAgent struct {
	pulumi.CustomResourceState

	// The current availability status of managementAgent
	AvailabilityStatus pulumi.StringOutput `pulumi:"availabilityStatus"`
	// Compartment Identifier
	CompartmentId pulumi.StringOutput `pulumi:"compartmentId"`
	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Operations.CostCenter": "42"}`
	DefinedTags pulumi.MapOutput `pulumi:"definedTags"`
	// (Updatable) Plugin Id list
	DeployPluginsIds pulumi.StringArrayOutput `pulumi:"deployPluginsIds"`
	// (Updatable) New displayName of Agent.
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Department": "Finance"}`
	FreeformTags pulumi.MapOutput `pulumi:"freeformTags"`
	// Management Agent host machine name
	Host pulumi.StringOutput `pulumi:"host"`
	// Host resource ocid
	HostId pulumi.StringOutput `pulumi:"hostId"`
	// agent install key identifier
	InstallKeyId pulumi.StringOutput `pulumi:"installKeyId"`
	// Path where Management Agent is installed
	InstallPath pulumi.StringOutput `pulumi:"installPath"`
	// The install type, either AGENT or GATEWAY
	InstallType pulumi.StringOutput `pulumi:"installType"`
	// true if the agent can be upgraded automatically; false if it must be upgraded manually. This flag is derived from the tenancy level auto upgrade preference.
	IsAgentAutoUpgradable pulumi.BoolOutput `pulumi:"isAgentAutoUpgradable"`
	// true, if the agent image is manually downloaded and installed. false, if the agent is deployed as a plugin in Oracle Cloud Agent.
	IsCustomerDeployed pulumi.BoolOutput `pulumi:"isCustomerDeployed"`
	// A message describing the current state in more detail. For example, can be used to provide actionable information for a resource in Failed state.
	LifecycleDetails pulumi.StringOutput `pulumi:"lifecycleDetails"`
	// Unique Management Agent identifier
	ManagedAgentId pulumi.StringOutput `pulumi:"managedAgentId"`
	// Platform Name
	PlatformName pulumi.StringOutput `pulumi:"platformName"`
	// Platform Type
	PlatformType pulumi.StringOutput `pulumi:"platformType"`
	// Platform Version
	PlatformVersion pulumi.StringOutput `pulumi:"platformVersion"`
	// list of managementAgentPlugins associated with the agent
	PluginLists ManagementAgentPluginListArrayOutput `pulumi:"pluginLists"`
	// Version of the deployment artifact instantiated by this Management Agent. The format for Standalone resourceMode is YYMMDD.HHMM, and the format for other modes (whose artifacts are based upon Standalone but can advance independently) is YYMMDD.HHMM.VVVVVVVVVVVV. VVVVVVVVVVVV is always a numeric value between 000000000000 and 999999999999
	ResourceArtifactVersion pulumi.StringOutput `pulumi:"resourceArtifactVersion"`
	// The current state of managementAgent
	State pulumi.StringOutput `pulumi:"state"`
	// The time the Management Agent was created. An RFC3339 formatted datetime string
	TimeCreated pulumi.StringOutput `pulumi:"timeCreated"`
	// The time the Management Agent has last recorded its health status in telemetry. This value will be null if the agent has not recorded its health status in last 7 days. An RFC3339 formatted datetime string
	TimeLastHeartbeat pulumi.StringOutput `pulumi:"timeLastHeartbeat"`
	// The time the Management Agent was last updated. An RFC3339 formatted datetime string
	TimeUpdated pulumi.StringOutput `pulumi:"timeUpdated"`
	// Management Agent Version
	Version pulumi.StringOutput `pulumi:"version"`
}

// NewManagementAgent registers a new resource with the given unique name, arguments, and options.
func NewManagementAgent(ctx *pulumi.Context,
	name string, args *ManagementAgentArgs, opts ...pulumi.ResourceOption) (*ManagementAgent, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ManagedAgentId == nil {
		return nil, errors.New("invalid value for required argument 'ManagedAgentId'")
	}
	var resource ManagementAgent
	err := ctx.RegisterResource("oci:ManagementAgent/managementAgent:ManagementAgent", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetManagementAgent gets an existing ManagementAgent resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetManagementAgent(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ManagementAgentState, opts ...pulumi.ResourceOption) (*ManagementAgent, error) {
	var resource ManagementAgent
	err := ctx.ReadResource("oci:ManagementAgent/managementAgent:ManagementAgent", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ManagementAgent resources.
type managementAgentState struct {
	// The current availability status of managementAgent
	AvailabilityStatus *string `pulumi:"availabilityStatus"`
	// Compartment Identifier
	CompartmentId *string `pulumi:"compartmentId"`
	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Operations.CostCenter": "42"}`
	DefinedTags map[string]interface{} `pulumi:"definedTags"`
	// (Updatable) Plugin Id list
	DeployPluginsIds []string `pulumi:"deployPluginsIds"`
	// (Updatable) New displayName of Agent.
	DisplayName *string `pulumi:"displayName"`
	// (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Department": "Finance"}`
	FreeformTags map[string]interface{} `pulumi:"freeformTags"`
	// Management Agent host machine name
	Host *string `pulumi:"host"`
	// Host resource ocid
	HostId *string `pulumi:"hostId"`
	// agent install key identifier
	InstallKeyId *string `pulumi:"installKeyId"`
	// Path where Management Agent is installed
	InstallPath *string `pulumi:"installPath"`
	// The install type, either AGENT or GATEWAY
	InstallType *string `pulumi:"installType"`
	// true if the agent can be upgraded automatically; false if it must be upgraded manually. This flag is derived from the tenancy level auto upgrade preference.
	IsAgentAutoUpgradable *bool `pulumi:"isAgentAutoUpgradable"`
	// true, if the agent image is manually downloaded and installed. false, if the agent is deployed as a plugin in Oracle Cloud Agent.
	IsCustomerDeployed *bool `pulumi:"isCustomerDeployed"`
	// A message describing the current state in more detail. For example, can be used to provide actionable information for a resource in Failed state.
	LifecycleDetails *string `pulumi:"lifecycleDetails"`
	// Unique Management Agent identifier
	ManagedAgentId *string `pulumi:"managedAgentId"`
	// Platform Name
	PlatformName *string `pulumi:"platformName"`
	// Platform Type
	PlatformType *string `pulumi:"platformType"`
	// Platform Version
	PlatformVersion *string `pulumi:"platformVersion"`
	// list of managementAgentPlugins associated with the agent
	PluginLists []ManagementAgentPluginList `pulumi:"pluginLists"`
	// Version of the deployment artifact instantiated by this Management Agent. The format for Standalone resourceMode is YYMMDD.HHMM, and the format for other modes (whose artifacts are based upon Standalone but can advance independently) is YYMMDD.HHMM.VVVVVVVVVVVV. VVVVVVVVVVVV is always a numeric value between 000000000000 and 999999999999
	ResourceArtifactVersion *string `pulumi:"resourceArtifactVersion"`
	// The current state of managementAgent
	State *string `pulumi:"state"`
	// The time the Management Agent was created. An RFC3339 formatted datetime string
	TimeCreated *string `pulumi:"timeCreated"`
	// The time the Management Agent has last recorded its health status in telemetry. This value will be null if the agent has not recorded its health status in last 7 days. An RFC3339 formatted datetime string
	TimeLastHeartbeat *string `pulumi:"timeLastHeartbeat"`
	// The time the Management Agent was last updated. An RFC3339 formatted datetime string
	TimeUpdated *string `pulumi:"timeUpdated"`
	// Management Agent Version
	Version *string `pulumi:"version"`
}

type ManagementAgentState struct {
	// The current availability status of managementAgent
	AvailabilityStatus pulumi.StringPtrInput
	// Compartment Identifier
	CompartmentId pulumi.StringPtrInput
	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Operations.CostCenter": "42"}`
	DefinedTags pulumi.MapInput
	// (Updatable) Plugin Id list
	DeployPluginsIds pulumi.StringArrayInput
	// (Updatable) New displayName of Agent.
	DisplayName pulumi.StringPtrInput
	// (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Department": "Finance"}`
	FreeformTags pulumi.MapInput
	// Management Agent host machine name
	Host pulumi.StringPtrInput
	// Host resource ocid
	HostId pulumi.StringPtrInput
	// agent install key identifier
	InstallKeyId pulumi.StringPtrInput
	// Path where Management Agent is installed
	InstallPath pulumi.StringPtrInput
	// The install type, either AGENT or GATEWAY
	InstallType pulumi.StringPtrInput
	// true if the agent can be upgraded automatically; false if it must be upgraded manually. This flag is derived from the tenancy level auto upgrade preference.
	IsAgentAutoUpgradable pulumi.BoolPtrInput
	// true, if the agent image is manually downloaded and installed. false, if the agent is deployed as a plugin in Oracle Cloud Agent.
	IsCustomerDeployed pulumi.BoolPtrInput
	// A message describing the current state in more detail. For example, can be used to provide actionable information for a resource in Failed state.
	LifecycleDetails pulumi.StringPtrInput
	// Unique Management Agent identifier
	ManagedAgentId pulumi.StringPtrInput
	// Platform Name
	PlatformName pulumi.StringPtrInput
	// Platform Type
	PlatformType pulumi.StringPtrInput
	// Platform Version
	PlatformVersion pulumi.StringPtrInput
	// list of managementAgentPlugins associated with the agent
	PluginLists ManagementAgentPluginListArrayInput
	// Version of the deployment artifact instantiated by this Management Agent. The format for Standalone resourceMode is YYMMDD.HHMM, and the format for other modes (whose artifacts are based upon Standalone but can advance independently) is YYMMDD.HHMM.VVVVVVVVVVVV. VVVVVVVVVVVV is always a numeric value between 000000000000 and 999999999999
	ResourceArtifactVersion pulumi.StringPtrInput
	// The current state of managementAgent
	State pulumi.StringPtrInput
	// The time the Management Agent was created. An RFC3339 formatted datetime string
	TimeCreated pulumi.StringPtrInput
	// The time the Management Agent has last recorded its health status in telemetry. This value will be null if the agent has not recorded its health status in last 7 days. An RFC3339 formatted datetime string
	TimeLastHeartbeat pulumi.StringPtrInput
	// The time the Management Agent was last updated. An RFC3339 formatted datetime string
	TimeUpdated pulumi.StringPtrInput
	// Management Agent Version
	Version pulumi.StringPtrInput
}

func (ManagementAgentState) ElementType() reflect.Type {
	return reflect.TypeOf((*managementAgentState)(nil)).Elem()
}

type managementAgentArgs struct {
	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Operations.CostCenter": "42"}`
	DefinedTags map[string]interface{} `pulumi:"definedTags"`
	// (Updatable) Plugin Id list
	DeployPluginsIds []string `pulumi:"deployPluginsIds"`
	// (Updatable) New displayName of Agent.
	DisplayName *string `pulumi:"displayName"`
	// (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Department": "Finance"}`
	FreeformTags map[string]interface{} `pulumi:"freeformTags"`
	// Unique Management Agent identifier
	ManagedAgentId string `pulumi:"managedAgentId"`
}

// The set of arguments for constructing a ManagementAgent resource.
type ManagementAgentArgs struct {
	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Operations.CostCenter": "42"}`
	DefinedTags pulumi.MapInput
	// (Updatable) Plugin Id list
	DeployPluginsIds pulumi.StringArrayInput
	// (Updatable) New displayName of Agent.
	DisplayName pulumi.StringPtrInput
	// (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm). Example: `{"Department": "Finance"}`
	FreeformTags pulumi.MapInput
	// Unique Management Agent identifier
	ManagedAgentId pulumi.StringInput
}

func (ManagementAgentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*managementAgentArgs)(nil)).Elem()
}

type ManagementAgentInput interface {
	pulumi.Input

	ToManagementAgentOutput() ManagementAgentOutput
	ToManagementAgentOutputWithContext(ctx context.Context) ManagementAgentOutput
}

func (*ManagementAgent) ElementType() reflect.Type {
	return reflect.TypeOf((**ManagementAgent)(nil)).Elem()
}

func (i *ManagementAgent) ToManagementAgentOutput() ManagementAgentOutput {
	return i.ToManagementAgentOutputWithContext(context.Background())
}

func (i *ManagementAgent) ToManagementAgentOutputWithContext(ctx context.Context) ManagementAgentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagementAgentOutput)
}

// ManagementAgentArrayInput is an input type that accepts ManagementAgentArray and ManagementAgentArrayOutput values.
// You can construct a concrete instance of `ManagementAgentArrayInput` via:
//
//	ManagementAgentArray{ ManagementAgentArgs{...} }
type ManagementAgentArrayInput interface {
	pulumi.Input

	ToManagementAgentArrayOutput() ManagementAgentArrayOutput
	ToManagementAgentArrayOutputWithContext(context.Context) ManagementAgentArrayOutput
}

type ManagementAgentArray []ManagementAgentInput

func (ManagementAgentArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ManagementAgent)(nil)).Elem()
}

func (i ManagementAgentArray) ToManagementAgentArrayOutput() ManagementAgentArrayOutput {
	return i.ToManagementAgentArrayOutputWithContext(context.Background())
}

func (i ManagementAgentArray) ToManagementAgentArrayOutputWithContext(ctx context.Context) ManagementAgentArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagementAgentArrayOutput)
}

// ManagementAgentMapInput is an input type that accepts ManagementAgentMap and ManagementAgentMapOutput values.
// You can construct a concrete instance of `ManagementAgentMapInput` via:
//
//	ManagementAgentMap{ "key": ManagementAgentArgs{...} }
type ManagementAgentMapInput interface {
	pulumi.Input

	ToManagementAgentMapOutput() ManagementAgentMapOutput
	ToManagementAgentMapOutputWithContext(context.Context) ManagementAgentMapOutput
}

type ManagementAgentMap map[string]ManagementAgentInput

func (ManagementAgentMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ManagementAgent)(nil)).Elem()
}

func (i ManagementAgentMap) ToManagementAgentMapOutput() ManagementAgentMapOutput {
	return i.ToManagementAgentMapOutputWithContext(context.Background())
}

func (i ManagementAgentMap) ToManagementAgentMapOutputWithContext(ctx context.Context) ManagementAgentMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagementAgentMapOutput)
}

type ManagementAgentOutput struct{ *pulumi.OutputState }

func (ManagementAgentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ManagementAgent)(nil)).Elem()
}

func (o ManagementAgentOutput) ToManagementAgentOutput() ManagementAgentOutput {
	return o
}

func (o ManagementAgentOutput) ToManagementAgentOutputWithContext(ctx context.Context) ManagementAgentOutput {
	return o
}

type ManagementAgentArrayOutput struct{ *pulumi.OutputState }

func (ManagementAgentArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ManagementAgent)(nil)).Elem()
}

func (o ManagementAgentArrayOutput) ToManagementAgentArrayOutput() ManagementAgentArrayOutput {
	return o
}

func (o ManagementAgentArrayOutput) ToManagementAgentArrayOutputWithContext(ctx context.Context) ManagementAgentArrayOutput {
	return o
}

func (o ManagementAgentArrayOutput) Index(i pulumi.IntInput) ManagementAgentOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ManagementAgent {
		return vs[0].([]*ManagementAgent)[vs[1].(int)]
	}).(ManagementAgentOutput)
}

type ManagementAgentMapOutput struct{ *pulumi.OutputState }

func (ManagementAgentMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ManagementAgent)(nil)).Elem()
}

func (o ManagementAgentMapOutput) ToManagementAgentMapOutput() ManagementAgentMapOutput {
	return o
}

func (o ManagementAgentMapOutput) ToManagementAgentMapOutputWithContext(ctx context.Context) ManagementAgentMapOutput {
	return o
}

func (o ManagementAgentMapOutput) MapIndex(k pulumi.StringInput) ManagementAgentOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ManagementAgent {
		return vs[0].(map[string]*ManagementAgent)[vs[1].(string)]
	}).(ManagementAgentOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ManagementAgentInput)(nil)).Elem(), &ManagementAgent{})
	pulumi.RegisterInputType(reflect.TypeOf((*ManagementAgentArrayInput)(nil)).Elem(), ManagementAgentArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ManagementAgentMapInput)(nil)).Elem(), ManagementAgentMap{})
	pulumi.RegisterOutputType(ManagementAgentOutput{})
	pulumi.RegisterOutputType(ManagementAgentArrayOutput{})
	pulumi.RegisterOutputType(ManagementAgentMapOutput{})
}
