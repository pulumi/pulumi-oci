// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package waas

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-oci/sdk/v2/go/oci/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource provides the Purge Cache resource in Oracle Cloud Infrastructure Web Application Acceleration and Security service.
//
// Performs a purge of the cache for each specified resource. If no resources are passed, the cache for the entire Web Application Firewall will be purged.
// For more information, see [Caching Rules](https://docs.cloud.oracle.com/iaas/Content/WAF/Tasks/cachingrules.htm#purge).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-oci/sdk/v2/go/oci/waas"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := waas.NewPurgeCache(ctx, "test_purge_cache", &waas.PurgeCacheArgs{
//				WaasPolicyId: pulumi.Any(testWaasPolicy.Id),
//				Resources:    pulumi.Any(purgeCacheResources),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Import is not supported for this resource.
type PurgeCache struct {
	pulumi.CustomResourceState

	// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
	Resources pulumi.StringArrayOutput `pulumi:"resources"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	WaasPolicyId pulumi.StringOutput `pulumi:"waasPolicyId"`
}

// NewPurgeCache registers a new resource with the given unique name, arguments, and options.
func NewPurgeCache(ctx *pulumi.Context,
	name string, args *PurgeCacheArgs, opts ...pulumi.ResourceOption) (*PurgeCache, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.WaasPolicyId == nil {
		return nil, errors.New("invalid value for required argument 'WaasPolicyId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource PurgeCache
	err := ctx.RegisterResource("oci:Waas/purgeCache:PurgeCache", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetPurgeCache gets an existing PurgeCache resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetPurgeCache(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PurgeCacheState, opts ...pulumi.ResourceOption) (*PurgeCache, error) {
	var resource PurgeCache
	err := ctx.ReadResource("oci:Waas/purgeCache:PurgeCache", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering PurgeCache resources.
type purgeCacheState struct {
	// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
	Resources []string `pulumi:"resources"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	WaasPolicyId *string `pulumi:"waasPolicyId"`
}

type PurgeCacheState struct {
	// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
	Resources pulumi.StringArrayInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	WaasPolicyId pulumi.StringPtrInput
}

func (PurgeCacheState) ElementType() reflect.Type {
	return reflect.TypeOf((*purgeCacheState)(nil)).Elem()
}

type purgeCacheArgs struct {
	// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
	Resources []string `pulumi:"resources"`
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	WaasPolicyId string `pulumi:"waasPolicyId"`
}

// The set of arguments for constructing a PurgeCache resource.
type PurgeCacheArgs struct {
	// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
	Resources pulumi.StringArrayInput
	// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
	//
	// ** IMPORTANT **
	// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
	WaasPolicyId pulumi.StringInput
}

func (PurgeCacheArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*purgeCacheArgs)(nil)).Elem()
}

type PurgeCacheInput interface {
	pulumi.Input

	ToPurgeCacheOutput() PurgeCacheOutput
	ToPurgeCacheOutputWithContext(ctx context.Context) PurgeCacheOutput
}

func (*PurgeCache) ElementType() reflect.Type {
	return reflect.TypeOf((**PurgeCache)(nil)).Elem()
}

func (i *PurgeCache) ToPurgeCacheOutput() PurgeCacheOutput {
	return i.ToPurgeCacheOutputWithContext(context.Background())
}

func (i *PurgeCache) ToPurgeCacheOutputWithContext(ctx context.Context) PurgeCacheOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PurgeCacheOutput)
}

// PurgeCacheArrayInput is an input type that accepts PurgeCacheArray and PurgeCacheArrayOutput values.
// You can construct a concrete instance of `PurgeCacheArrayInput` via:
//
//	PurgeCacheArray{ PurgeCacheArgs{...} }
type PurgeCacheArrayInput interface {
	pulumi.Input

	ToPurgeCacheArrayOutput() PurgeCacheArrayOutput
	ToPurgeCacheArrayOutputWithContext(context.Context) PurgeCacheArrayOutput
}

type PurgeCacheArray []PurgeCacheInput

func (PurgeCacheArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PurgeCache)(nil)).Elem()
}

func (i PurgeCacheArray) ToPurgeCacheArrayOutput() PurgeCacheArrayOutput {
	return i.ToPurgeCacheArrayOutputWithContext(context.Background())
}

func (i PurgeCacheArray) ToPurgeCacheArrayOutputWithContext(ctx context.Context) PurgeCacheArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PurgeCacheArrayOutput)
}

// PurgeCacheMapInput is an input type that accepts PurgeCacheMap and PurgeCacheMapOutput values.
// You can construct a concrete instance of `PurgeCacheMapInput` via:
//
//	PurgeCacheMap{ "key": PurgeCacheArgs{...} }
type PurgeCacheMapInput interface {
	pulumi.Input

	ToPurgeCacheMapOutput() PurgeCacheMapOutput
	ToPurgeCacheMapOutputWithContext(context.Context) PurgeCacheMapOutput
}

type PurgeCacheMap map[string]PurgeCacheInput

func (PurgeCacheMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PurgeCache)(nil)).Elem()
}

func (i PurgeCacheMap) ToPurgeCacheMapOutput() PurgeCacheMapOutput {
	return i.ToPurgeCacheMapOutputWithContext(context.Background())
}

func (i PurgeCacheMap) ToPurgeCacheMapOutputWithContext(ctx context.Context) PurgeCacheMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PurgeCacheMapOutput)
}

type PurgeCacheOutput struct{ *pulumi.OutputState }

func (PurgeCacheOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**PurgeCache)(nil)).Elem()
}

func (o PurgeCacheOutput) ToPurgeCacheOutput() PurgeCacheOutput {
	return o
}

func (o PurgeCacheOutput) ToPurgeCacheOutputWithContext(ctx context.Context) PurgeCacheOutput {
	return o
}

// A resource to purge, specified by either a hostless absolute path starting with a single slash (Example: `/path/to/resource`) or by a relative path in which the first component will be interpreted as a domain protected by the WAAS policy (Example: `example.com/path/to/resource`).
func (o PurgeCacheOutput) Resources() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *PurgeCache) pulumi.StringArrayOutput { return v.Resources }).(pulumi.StringArrayOutput)
}

// The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the WAAS policy.
//
// ** IMPORTANT **
// Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
func (o PurgeCacheOutput) WaasPolicyId() pulumi.StringOutput {
	return o.ApplyT(func(v *PurgeCache) pulumi.StringOutput { return v.WaasPolicyId }).(pulumi.StringOutput)
}

type PurgeCacheArrayOutput struct{ *pulumi.OutputState }

func (PurgeCacheArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*PurgeCache)(nil)).Elem()
}

func (o PurgeCacheArrayOutput) ToPurgeCacheArrayOutput() PurgeCacheArrayOutput {
	return o
}

func (o PurgeCacheArrayOutput) ToPurgeCacheArrayOutputWithContext(ctx context.Context) PurgeCacheArrayOutput {
	return o
}

func (o PurgeCacheArrayOutput) Index(i pulumi.IntInput) PurgeCacheOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *PurgeCache {
		return vs[0].([]*PurgeCache)[vs[1].(int)]
	}).(PurgeCacheOutput)
}

type PurgeCacheMapOutput struct{ *pulumi.OutputState }

func (PurgeCacheMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*PurgeCache)(nil)).Elem()
}

func (o PurgeCacheMapOutput) ToPurgeCacheMapOutput() PurgeCacheMapOutput {
	return o
}

func (o PurgeCacheMapOutput) ToPurgeCacheMapOutputWithContext(ctx context.Context) PurgeCacheMapOutput {
	return o
}

func (o PurgeCacheMapOutput) MapIndex(k pulumi.StringInput) PurgeCacheOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *PurgeCache {
		return vs[0].(map[string]*PurgeCache)[vs[1].(string)]
	}).(PurgeCacheOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PurgeCacheInput)(nil)).Elem(), &PurgeCache{})
	pulumi.RegisterInputType(reflect.TypeOf((*PurgeCacheArrayInput)(nil)).Elem(), PurgeCacheArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*PurgeCacheMapInput)(nil)).Elem(), PurgeCacheMap{})
	pulumi.RegisterOutputType(PurgeCacheOutput{})
	pulumi.RegisterOutputType(PurgeCacheArrayOutput{})
	pulumi.RegisterOutputType(PurgeCacheMapOutput{})
}
