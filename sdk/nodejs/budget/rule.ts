// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * This resource provides the Alert Rule resource in Oracle Cloud Infrastructure Budget service.
 *
 * Creates a new Alert Rule.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as oci from "@pulumi/oci";
 *
 * const testAlertRule = new oci.budget.Rule("test_alert_rule", {
 *     budgetId: testBudget.id,
 *     threshold: alertRuleThreshold,
 *     thresholdType: alertRuleThresholdType,
 *     type: alertRuleType,
 *     definedTags: {
 *         "Operations.CostCenter": "42",
 *     },
 *     description: alertRuleDescription,
 *     displayName: alertRuleDisplayName,
 *     freeformTags: {
 *         Department: "Finance",
 *     },
 *     message: alertRuleMessage,
 *     recipients: alertRuleRecipients,
 * });
 * ```
 *
 * ## Import
 *
 * AlertRules can be imported using the `id`, e.g.
 *
 * ```sh
 * $ pulumi import oci:Budget/rule:Rule test_alert_rule "budgets/{budgetId}/alertRules/{alertRuleId}"
 * ```
 */
export class Rule extends pulumi.CustomResource {
    /**
     * Get an existing Rule resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: RuleState, opts?: pulumi.CustomResourceOptions): Rule {
        return new Rule(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'oci:Budget/rule:Rule';

    /**
     * Returns true if the given object is an instance of Rule.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Rule {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Rule.__pulumiType;
    }

    /**
     * The unique budget OCID.
     */
    declare public readonly budgetId: pulumi.Output<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Operations.CostCenter": "42"}`
     */
    declare public readonly definedTags: pulumi.Output<{[key: string]: string}>;
    /**
     * (Updatable) The description of the alert rule.
     */
    declare public readonly description: pulumi.Output<string>;
    /**
     * (Updatable) The name of the alert rule. Avoid entering confidential information.
     */
    declare public readonly displayName: pulumi.Output<string>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    declare public readonly freeformTags: pulumi.Output<{[key: string]: string}>;
    /**
     * (Updatable) The message to be sent to the recipients when the alert rule is triggered.
     */
    declare public readonly message: pulumi.Output<string>;
    /**
     * (Updatable) The audience that receives the alert when it triggers. An empty string is interpreted as null.
     */
    declare public readonly recipients: pulumi.Output<string | undefined>;
    /**
     * The current state of the alert rule.
     */
    declare public /*out*/ readonly state: pulumi.Output<string>;
    /**
     * (Updatable) The threshold for triggering the alert, expressed as a whole number or decimal value. If the thresholdType is ABSOLUTE, the threshold can have at most 12 digits before the decimal point, and up to two digits after the decimal point. If the thresholdType is PERCENTAGE, the maximum value is 10000 and can have up to two digits after the decimal point.
     */
    declare public readonly threshold: pulumi.Output<number>;
    /**
     * (Updatable) The type of threshold.
     */
    declare public readonly thresholdType: pulumi.Output<string>;
    /**
     * The time when the budget was created.
     */
    declare public /*out*/ readonly timeCreated: pulumi.Output<string>;
    /**
     * The time when the budget was updated.
     */
    declare public /*out*/ readonly timeUpdated: pulumi.Output<string>;
    /**
     * (Updatable) The type of the alert. Valid values are ACTUAL (the alert triggers based on actual usage), or FORECAST (the alert triggers based on predicted usage). 
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    declare public readonly type: pulumi.Output<string>;
    /**
     * The version of the alert rule. Starts from 1 and increments by 1.
     */
    declare public /*out*/ readonly version: pulumi.Output<number>;

    /**
     * Create a Rule resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: RuleArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: RuleArgs | RuleState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as RuleState | undefined;
            resourceInputs["budgetId"] = state?.budgetId;
            resourceInputs["definedTags"] = state?.definedTags;
            resourceInputs["description"] = state?.description;
            resourceInputs["displayName"] = state?.displayName;
            resourceInputs["freeformTags"] = state?.freeformTags;
            resourceInputs["message"] = state?.message;
            resourceInputs["recipients"] = state?.recipients;
            resourceInputs["state"] = state?.state;
            resourceInputs["threshold"] = state?.threshold;
            resourceInputs["thresholdType"] = state?.thresholdType;
            resourceInputs["timeCreated"] = state?.timeCreated;
            resourceInputs["timeUpdated"] = state?.timeUpdated;
            resourceInputs["type"] = state?.type;
            resourceInputs["version"] = state?.version;
        } else {
            const args = argsOrState as RuleArgs | undefined;
            if (args?.budgetId === undefined && !opts.urn) {
                throw new Error("Missing required property 'budgetId'");
            }
            if (args?.threshold === undefined && !opts.urn) {
                throw new Error("Missing required property 'threshold'");
            }
            if (args?.thresholdType === undefined && !opts.urn) {
                throw new Error("Missing required property 'thresholdType'");
            }
            if (args?.type === undefined && !opts.urn) {
                throw new Error("Missing required property 'type'");
            }
            resourceInputs["budgetId"] = args?.budgetId;
            resourceInputs["definedTags"] = args?.definedTags;
            resourceInputs["description"] = args?.description;
            resourceInputs["displayName"] = args?.displayName;
            resourceInputs["freeformTags"] = args?.freeformTags;
            resourceInputs["message"] = args?.message;
            resourceInputs["recipients"] = args?.recipients;
            resourceInputs["threshold"] = args?.threshold;
            resourceInputs["thresholdType"] = args?.thresholdType;
            resourceInputs["type"] = args?.type;
            resourceInputs["state"] = undefined /*out*/;
            resourceInputs["timeCreated"] = undefined /*out*/;
            resourceInputs["timeUpdated"] = undefined /*out*/;
            resourceInputs["version"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Rule.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Rule resources.
 */
export interface RuleState {
    /**
     * The unique budget OCID.
     */
    budgetId?: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Operations.CostCenter": "42"}`
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The description of the alert rule.
     */
    description?: pulumi.Input<string>;
    /**
     * (Updatable) The name of the alert rule. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The message to be sent to the recipients when the alert rule is triggered.
     */
    message?: pulumi.Input<string>;
    /**
     * (Updatable) The audience that receives the alert when it triggers. An empty string is interpreted as null.
     */
    recipients?: pulumi.Input<string>;
    /**
     * The current state of the alert rule.
     */
    state?: pulumi.Input<string>;
    /**
     * (Updatable) The threshold for triggering the alert, expressed as a whole number or decimal value. If the thresholdType is ABSOLUTE, the threshold can have at most 12 digits before the decimal point, and up to two digits after the decimal point. If the thresholdType is PERCENTAGE, the maximum value is 10000 and can have up to two digits after the decimal point.
     */
    threshold?: pulumi.Input<number>;
    /**
     * (Updatable) The type of threshold.
     */
    thresholdType?: pulumi.Input<string>;
    /**
     * The time when the budget was created.
     */
    timeCreated?: pulumi.Input<string>;
    /**
     * The time when the budget was updated.
     */
    timeUpdated?: pulumi.Input<string>;
    /**
     * (Updatable) The type of the alert. Valid values are ACTUAL (the alert triggers based on actual usage), or FORECAST (the alert triggers based on predicted usage). 
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    type?: pulumi.Input<string>;
    /**
     * The version of the alert rule. Starts from 1 and increments by 1.
     */
    version?: pulumi.Input<number>;
}

/**
 * The set of arguments for constructing a Rule resource.
 */
export interface RuleArgs {
    /**
     * The unique budget OCID.
     */
    budgetId: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Operations.CostCenter": "42"}`
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The description of the alert rule.
     */
    description?: pulumi.Input<string>;
    /**
     * (Updatable) The name of the alert rule. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The message to be sent to the recipients when the alert rule is triggered.
     */
    message?: pulumi.Input<string>;
    /**
     * (Updatable) The audience that receives the alert when it triggers. An empty string is interpreted as null.
     */
    recipients?: pulumi.Input<string>;
    /**
     * (Updatable) The threshold for triggering the alert, expressed as a whole number or decimal value. If the thresholdType is ABSOLUTE, the threshold can have at most 12 digits before the decimal point, and up to two digits after the decimal point. If the thresholdType is PERCENTAGE, the maximum value is 10000 and can have up to two digits after the decimal point.
     */
    threshold: pulumi.Input<number>;
    /**
     * (Updatable) The type of threshold.
     */
    thresholdType: pulumi.Input<string>;
    /**
     * (Updatable) The type of the alert. Valid values are ACTUAL (the alert triggers based on actual usage), or FORECAST (the alert triggers based on predicted usage). 
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    type: pulumi.Input<string>;
}
