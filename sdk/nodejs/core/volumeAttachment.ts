// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * This resource provides the Volume Attachment resource in Oracle Cloud Infrastructure Core service.
 * Api doc link for the resource: https://docs.oracle.com/iaas/api/#/en/iaas/latest/VolumeAttachment
 *
 * Example terraform configs related to the resource : https://github.com/oracle/terraform-provider-oci/tree/master/examples/
 *
 * Attaches the specified storage volume to the specified instance.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as oci from "@pulumi/oci";
 *
 * const testVolumeAttachment = new oci.core.VolumeAttachment("test_volume_attachment", {
 *     attachmentType: volumeAttachmentAttachmentType,
 *     instanceId: testInstance.id,
 *     volumeId: testVolume.id,
 *     device: volumeAttachmentDevice,
 *     displayName: volumeAttachmentDisplayName,
 *     encryptionInTransitType: volumeAttachmentEncryptionInTransitType,
 *     isAgentAutoIscsiLoginEnabled: volumeAttachmentIsAgentAutoIscsiLoginEnabled,
 *     isPvEncryptionInTransitEnabled: volumeAttachmentIsPvEncryptionInTransitEnabled,
 *     isReadOnly: volumeAttachmentIsReadOnly,
 *     isShareable: volumeAttachmentIsShareable,
 *     useChap: volumeAttachmentUseChap,
 * });
 * ```
 *
 * ## Import
 *
 * VolumeAttachments can be imported using the `id`, e.g.
 *
 * ```sh
 * $ pulumi import oci:Core/volumeAttachment:VolumeAttachment test_volume_attachment "id"
 * ```
 */
export class VolumeAttachment extends pulumi.CustomResource {
    /**
     * Get an existing VolumeAttachment resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: VolumeAttachmentState, opts?: pulumi.CustomResourceOptions): VolumeAttachment {
        return new VolumeAttachment(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'oci:Core/volumeAttachment:VolumeAttachment';

    /**
     * Returns true if the given object is an instance of VolumeAttachment.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is VolumeAttachment {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === VolumeAttachment.__pulumiType;
    }

    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    declare public readonly attachmentType: pulumi.Output<string>;
    /**
     * The availability domain of an instance.  Example: `Uocm:PHX-AD-1`
     */
    declare public /*out*/ readonly availabilityDomain: pulumi.Output<string>;
    /**
     * The Challenge-Handshake-Authentication-Protocol (CHAP) secret valid for the associated CHAP user name. (Also called the "CHAP password".)
     */
    declare public /*out*/ readonly chapSecret: pulumi.Output<string>;
    /**
     * The volume's system-generated Challenge-Handshake-Authentication-Protocol (CHAP) user name. See [RFC 1994](https://tools.ietf.org/html/rfc1994) for more on CHAP.  Example: `ocid1.volume.oc1.phx.<unique_ID>`
     */
    declare public /*out*/ readonly chapUsername: pulumi.Output<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    declare public readonly compartmentId: pulumi.Output<string>;
    /**
     * The device name. To retrieve a list of devices for a given instance, see [ListInstanceDevices](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/latest/Device/ListInstanceDevices).
     */
    declare public readonly device: pulumi.Output<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it's changeable. Avoid entering confidential information.
     */
    declare public readonly displayName: pulumi.Output<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    declare public readonly encryptionInTransitType: pulumi.Output<string>;
    /**
     * The OCID of the instance.
     */
    declare public readonly instanceId: pulumi.Output<string>;
    /**
     * The volume's iSCSI IP address.  Example: `169.254.2.2`
     */
    declare public /*out*/ readonly ipv4: pulumi.Output<string>;
    /**
     * The volume's iSCSI IPv6 address.  Example: `2001:db8::1/64`
     */
    declare public /*out*/ readonly ipv6: pulumi.Output<string>;
    /**
     * The target volume's iSCSI Qualified Name in the format defined by [RFC 3720](https://tools.ietf.org/html/rfc3720#page-32).  Example: `iqn.2015-12.com.oracleiaas:40b7ee03-883f-46c6-a951-63d2841d2195`
     */
    declare public /*out*/ readonly iqn: pulumi.Output<string>;
    /**
     * Whether to enable Oracle Cloud Agent to perform the iSCSI login and logout commands after the volume attach or detach operations for non multipath-enabled iSCSI attachments.
     */
    declare public readonly isAgentAutoIscsiLoginEnabled: pulumi.Output<boolean>;
    /**
     * Whether the Iscsi or Paravirtualized attachment is multipath or not, it is not applicable to NVMe attachment.
     */
    declare public /*out*/ readonly isMultipath: pulumi.Output<boolean>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    declare public readonly isPvEncryptionInTransitEnabled: pulumi.Output<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    declare public readonly isReadOnly: pulumi.Output<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    declare public readonly isShareable: pulumi.Output<boolean>;
    /**
     * Flag indicating if this volume was created for the customer as part of a simplified launch. Used to determine whether the volume requires deletion on instance termination.
     */
    declare public /*out*/ readonly isVolumeCreatedDuringLaunch: pulumi.Output<boolean>;
    /**
     * The iscsi login state of the volume attachment. For a Iscsi volume attachment, all iscsi sessions need to be all logged-in or logged-out to be in logged-in or logged-out state.
     */
    declare public /*out*/ readonly iscsiLoginState: pulumi.Output<string>;
    /**
     * A list of secondary multipath devices
     */
    declare public /*out*/ readonly multipathDevices: pulumi.Output<outputs.Core.VolumeAttachmentMultipathDevice[]>;
    /**
     * The volume's iSCSI port, usually port 860 or 3260.  Example: `3260`
     */
    declare public /*out*/ readonly port: pulumi.Output<number>;
    /**
     * The current state of the volume attachment.
     */
    declare public /*out*/ readonly state: pulumi.Output<string>;
    /**
     * The date and time the volume was created, in the format defined by [RFC3339](https://tools.ietf.org/html/rfc3339).  Example: `2016-08-25T21:10:29.600Z`
     */
    declare public /*out*/ readonly timeCreated: pulumi.Output<string>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    declare public readonly useChap: pulumi.Output<boolean>;
    /**
     * The OCID of the volume.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    declare public readonly volumeId: pulumi.Output<string>;

    /**
     * Create a VolumeAttachment resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: VolumeAttachmentArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: VolumeAttachmentArgs | VolumeAttachmentState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as VolumeAttachmentState | undefined;
            resourceInputs["attachmentType"] = state?.attachmentType;
            resourceInputs["availabilityDomain"] = state?.availabilityDomain;
            resourceInputs["chapSecret"] = state?.chapSecret;
            resourceInputs["chapUsername"] = state?.chapUsername;
            resourceInputs["compartmentId"] = state?.compartmentId;
            resourceInputs["device"] = state?.device;
            resourceInputs["displayName"] = state?.displayName;
            resourceInputs["encryptionInTransitType"] = state?.encryptionInTransitType;
            resourceInputs["instanceId"] = state?.instanceId;
            resourceInputs["ipv4"] = state?.ipv4;
            resourceInputs["ipv6"] = state?.ipv6;
            resourceInputs["iqn"] = state?.iqn;
            resourceInputs["isAgentAutoIscsiLoginEnabled"] = state?.isAgentAutoIscsiLoginEnabled;
            resourceInputs["isMultipath"] = state?.isMultipath;
            resourceInputs["isPvEncryptionInTransitEnabled"] = state?.isPvEncryptionInTransitEnabled;
            resourceInputs["isReadOnly"] = state?.isReadOnly;
            resourceInputs["isShareable"] = state?.isShareable;
            resourceInputs["isVolumeCreatedDuringLaunch"] = state?.isVolumeCreatedDuringLaunch;
            resourceInputs["iscsiLoginState"] = state?.iscsiLoginState;
            resourceInputs["multipathDevices"] = state?.multipathDevices;
            resourceInputs["port"] = state?.port;
            resourceInputs["state"] = state?.state;
            resourceInputs["timeCreated"] = state?.timeCreated;
            resourceInputs["useChap"] = state?.useChap;
            resourceInputs["volumeId"] = state?.volumeId;
        } else {
            const args = argsOrState as VolumeAttachmentArgs | undefined;
            if (args?.attachmentType === undefined && !opts.urn) {
                throw new Error("Missing required property 'attachmentType'");
            }
            if (args?.instanceId === undefined && !opts.urn) {
                throw new Error("Missing required property 'instanceId'");
            }
            if (args?.volumeId === undefined && !opts.urn) {
                throw new Error("Missing required property 'volumeId'");
            }
            resourceInputs["attachmentType"] = args?.attachmentType;
            resourceInputs["compartmentId"] = args?.compartmentId;
            resourceInputs["device"] = args?.device;
            resourceInputs["displayName"] = args?.displayName;
            resourceInputs["encryptionInTransitType"] = args?.encryptionInTransitType;
            resourceInputs["instanceId"] = args?.instanceId;
            resourceInputs["isAgentAutoIscsiLoginEnabled"] = args?.isAgentAutoIscsiLoginEnabled;
            resourceInputs["isPvEncryptionInTransitEnabled"] = args?.isPvEncryptionInTransitEnabled;
            resourceInputs["isReadOnly"] = args?.isReadOnly;
            resourceInputs["isShareable"] = args?.isShareable;
            resourceInputs["useChap"] = args?.useChap;
            resourceInputs["volumeId"] = args?.volumeId;
            resourceInputs["availabilityDomain"] = undefined /*out*/;
            resourceInputs["chapSecret"] = undefined /*out*/;
            resourceInputs["chapUsername"] = undefined /*out*/;
            resourceInputs["ipv4"] = undefined /*out*/;
            resourceInputs["ipv6"] = undefined /*out*/;
            resourceInputs["iqn"] = undefined /*out*/;
            resourceInputs["isMultipath"] = undefined /*out*/;
            resourceInputs["isVolumeCreatedDuringLaunch"] = undefined /*out*/;
            resourceInputs["iscsiLoginState"] = undefined /*out*/;
            resourceInputs["multipathDevices"] = undefined /*out*/;
            resourceInputs["port"] = undefined /*out*/;
            resourceInputs["state"] = undefined /*out*/;
            resourceInputs["timeCreated"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(VolumeAttachment.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering VolumeAttachment resources.
 */
export interface VolumeAttachmentState {
    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    attachmentType?: pulumi.Input<string>;
    /**
     * The availability domain of an instance.  Example: `Uocm:PHX-AD-1`
     */
    availabilityDomain?: pulumi.Input<string>;
    /**
     * The Challenge-Handshake-Authentication-Protocol (CHAP) secret valid for the associated CHAP user name. (Also called the "CHAP password".)
     */
    chapSecret?: pulumi.Input<string>;
    /**
     * The volume's system-generated Challenge-Handshake-Authentication-Protocol (CHAP) user name. See [RFC 1994](https://tools.ietf.org/html/rfc1994) for more on CHAP.  Example: `ocid1.volume.oc1.phx.<unique_ID>`
     */
    chapUsername?: pulumi.Input<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * The device name. To retrieve a list of devices for a given instance, see [ListInstanceDevices](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/latest/Device/ListInstanceDevices).
     */
    device?: pulumi.Input<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it's changeable. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    encryptionInTransitType?: pulumi.Input<string>;
    /**
     * The OCID of the instance.
     */
    instanceId?: pulumi.Input<string>;
    /**
     * The volume's iSCSI IP address.  Example: `169.254.2.2`
     */
    ipv4?: pulumi.Input<string>;
    /**
     * The volume's iSCSI IPv6 address.  Example: `2001:db8::1/64`
     */
    ipv6?: pulumi.Input<string>;
    /**
     * The target volume's iSCSI Qualified Name in the format defined by [RFC 3720](https://tools.ietf.org/html/rfc3720#page-32).  Example: `iqn.2015-12.com.oracleiaas:40b7ee03-883f-46c6-a951-63d2841d2195`
     */
    iqn?: pulumi.Input<string>;
    /**
     * Whether to enable Oracle Cloud Agent to perform the iSCSI login and logout commands after the volume attach or detach operations for non multipath-enabled iSCSI attachments.
     */
    isAgentAutoIscsiLoginEnabled?: pulumi.Input<boolean>;
    /**
     * Whether the Iscsi or Paravirtualized attachment is multipath or not, it is not applicable to NVMe attachment.
     */
    isMultipath?: pulumi.Input<boolean>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    isPvEncryptionInTransitEnabled?: pulumi.Input<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    isReadOnly?: pulumi.Input<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    isShareable?: pulumi.Input<boolean>;
    /**
     * Flag indicating if this volume was created for the customer as part of a simplified launch. Used to determine whether the volume requires deletion on instance termination.
     */
    isVolumeCreatedDuringLaunch?: pulumi.Input<boolean>;
    /**
     * The iscsi login state of the volume attachment. For a Iscsi volume attachment, all iscsi sessions need to be all logged-in or logged-out to be in logged-in or logged-out state.
     */
    iscsiLoginState?: pulumi.Input<string>;
    /**
     * A list of secondary multipath devices
     */
    multipathDevices?: pulumi.Input<pulumi.Input<inputs.Core.VolumeAttachmentMultipathDevice>[]>;
    /**
     * The volume's iSCSI port, usually port 860 or 3260.  Example: `3260`
     */
    port?: pulumi.Input<number>;
    /**
     * The current state of the volume attachment.
     */
    state?: pulumi.Input<string>;
    /**
     * The date and time the volume was created, in the format defined by [RFC3339](https://tools.ietf.org/html/rfc3339).  Example: `2016-08-25T21:10:29.600Z`
     */
    timeCreated?: pulumi.Input<string>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    useChap?: pulumi.Input<boolean>;
    /**
     * The OCID of the volume.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    volumeId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a VolumeAttachment resource.
 */
export interface VolumeAttachmentArgs {
    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    attachmentType: pulumi.Input<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * The device name. To retrieve a list of devices for a given instance, see [ListInstanceDevices](https://docs.cloud.oracle.com/iaas/api/#/en/iaas/latest/Device/ListInstanceDevices).
     */
    device?: pulumi.Input<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it's changeable. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    encryptionInTransitType?: pulumi.Input<string>;
    /**
     * The OCID of the instance.
     */
    instanceId: pulumi.Input<string>;
    /**
     * Whether to enable Oracle Cloud Agent to perform the iSCSI login and logout commands after the volume attach or detach operations for non multipath-enabled iSCSI attachments.
     */
    isAgentAutoIscsiLoginEnabled?: pulumi.Input<boolean>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    isPvEncryptionInTransitEnabled?: pulumi.Input<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    isReadOnly?: pulumi.Input<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    isShareable?: pulumi.Input<boolean>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    useChap?: pulumi.Input<boolean>;
    /**
     * The OCID of the volume.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    volumeId: pulumi.Input<string>;
}
