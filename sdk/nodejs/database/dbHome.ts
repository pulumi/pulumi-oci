// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * This resource provides the Db Home resource in Oracle Cloud Infrastructure Database service.
 * Api doc link for the resource: https://docs.oracle.com/iaas/api/#/en/database/latest/DbHome
 *
 * Example terraform configs related to the resource : https://github.com/oracle/terraform-provider-oci/tree/master/examples/database
 *
 * Creates a new Database Home in the specified database system based on the request parameters you provide. Applies only to bare metal and Exadata systems.
 *
 * **Important:** Unless `enableDatabaseDelete` is explicitly set to true:
 * * Terraform will not delete the database within the Db Home configuration but rather remove it from the config and state file.
 * * This leads to dangling resources which are not managed via Terraform unless explicitly imported
 *
 * **Important:** When `autoBackupEnabled` is not present in the configuration or set to true, the `autoBackupWindow` and `autoFullBackupWindow` will be ignored
 *
 * ## Example Usage
 *
 * ## Import
 *
 * DbHomes can be imported using the `id`, e.g.
 *
 * ```sh
 * $ pulumi import oci:Database/dbHome:DbHome test_db_home "id"
 * ```
 *
 * Import is only supported for source=NONE
 *
 * database.0.admin_password is not returned by the service for security reasons. Add the following to the resource:
 *
 * ```sh
 *     lifecycle {
 *         ignore_changes = ["database.0.admin_password"]
 *     }
 * ```
 *
 * The creation of an oci.Database.DbSystem requires that it be created with exactly one oci_database_db_home. Therefore the first db home will have to be a property of the db system resource and any further db homes to be added to the db system will have to be added as first class resources using "oci.Database.DbHome".
 */
export class DbHome extends pulumi.CustomResource {
    /**
     * Get an existing DbHome resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: DbHomeState, opts?: pulumi.CustomResourceOptions): DbHome {
        return new DbHome(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'oci:Database/dbHome:DbHome';

    /**
     * Returns true if the given object is an instance of DbHome.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is DbHome {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === DbHome.__pulumiType;
    }

    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the compartment.
     */
    declare public /*out*/ readonly compartmentId: pulumi.Output<string>;
    /**
     * (Updatable) Details for creating a database.
     *
     * **Warning:** Oracle recommends that you avoid using any confidential information when you supply string values using the API.
     */
    declare public readonly database: pulumi.Output<outputs.Database.DbHomeDatabase>;
    /**
     * The database software image [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm)
     */
    declare public readonly databaseSoftwareImageId: pulumi.Output<string>;
    /**
     * The location of the Oracle Database Home.
     */
    declare public /*out*/ readonly dbHomeLocation: pulumi.Output<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the DB system.
     */
    declare public readonly dbSystemId: pulumi.Output<string>;
    /**
     * A valid Oracle Database version. For a list of supported versions, use the ListDbVersions operation.
     *
     * This cannot be updated in parallel with any of the following: licenseModel, dbEdition, cpuCoreCount, computeCount, computeModel, adminPassword, whitelistedIps, isMTLSConnectionRequired, openMode, permissionLevel, dbWorkload, privateEndpointLabel, nsgIds, isRefreshable, dbName, scheduledOperations, dbToolsDetails, isLocalDataGuardEnabled, or isFreeTier.
     */
    declare public readonly dbVersion: pulumi.Output<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     */
    declare public readonly definedTags: pulumi.Output<{[key: string]: string}>;
    /**
     * The user-provided name of the Database Home.
     */
    declare public readonly displayName: pulumi.Output<string>;
    declare public readonly enableDatabaseDelete: pulumi.Output<boolean | undefined>;
    /**
     * Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    declare public readonly freeformTags: pulumi.Output<{[key: string]: string}>;
    /**
     * If true, the customer acknowledges that the specified Oracle Database software is an older release that is not currently supported by OCI.
     */
    declare public readonly isDesupportedVersion: pulumi.Output<boolean>;
    /**
     * Indicates whether unified autiding is enabled or not. Set to True to enable unified auditing on respective DBHome.
     */
    declare public readonly isUnifiedAuditingEnabled: pulumi.Output<boolean>;
    /**
     * The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
     */
    declare public readonly kmsKeyId: pulumi.Output<string>;
    /**
     * The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation. Autonomous AI Database Serverless does not use key versions, hence is not applicable for Autonomous AI Database Serverless instances.
     */
    declare public readonly kmsKeyVersionId: pulumi.Output<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the last patch history. This value is updated as soon as a patch operation is started.
     */
    declare public /*out*/ readonly lastPatchHistoryEntryId: pulumi.Output<string>;
    /**
     * Additional information about the current lifecycle state.
     */
    declare public /*out*/ readonly lifecycleDetails: pulumi.Output<string>;
    /**
     * The source of database: NONE for creating a new database. DB_BACKUP for creating a new database by restoring from a database backup. VM_CLUSTER_NEW for creating a database for VM Cluster.
     */
    declare public readonly source: pulumi.Output<string>;
    /**
     * The current state of the Database Home.
     */
    declare public /*out*/ readonly state: pulumi.Output<string>;
    /**
     * System tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     */
    declare public /*out*/ readonly systemTags: pulumi.Output<{[key: string]: string}>;
    /**
     * The date and time the Database Home was created.
     */
    declare public /*out*/ readonly timeCreated: pulumi.Output<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    declare public readonly vmClusterId: pulumi.Output<string>;

    /**
     * Create a DbHome resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args?: DbHomeArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: DbHomeArgs | DbHomeState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as DbHomeState | undefined;
            resourceInputs["compartmentId"] = state?.compartmentId;
            resourceInputs["database"] = state?.database;
            resourceInputs["databaseSoftwareImageId"] = state?.databaseSoftwareImageId;
            resourceInputs["dbHomeLocation"] = state?.dbHomeLocation;
            resourceInputs["dbSystemId"] = state?.dbSystemId;
            resourceInputs["dbVersion"] = state?.dbVersion;
            resourceInputs["definedTags"] = state?.definedTags;
            resourceInputs["displayName"] = state?.displayName;
            resourceInputs["enableDatabaseDelete"] = state?.enableDatabaseDelete;
            resourceInputs["freeformTags"] = state?.freeformTags;
            resourceInputs["isDesupportedVersion"] = state?.isDesupportedVersion;
            resourceInputs["isUnifiedAuditingEnabled"] = state?.isUnifiedAuditingEnabled;
            resourceInputs["kmsKeyId"] = state?.kmsKeyId;
            resourceInputs["kmsKeyVersionId"] = state?.kmsKeyVersionId;
            resourceInputs["lastPatchHistoryEntryId"] = state?.lastPatchHistoryEntryId;
            resourceInputs["lifecycleDetails"] = state?.lifecycleDetails;
            resourceInputs["source"] = state?.source;
            resourceInputs["state"] = state?.state;
            resourceInputs["systemTags"] = state?.systemTags;
            resourceInputs["timeCreated"] = state?.timeCreated;
            resourceInputs["vmClusterId"] = state?.vmClusterId;
        } else {
            const args = argsOrState as DbHomeArgs | undefined;
            resourceInputs["database"] = args?.database;
            resourceInputs["databaseSoftwareImageId"] = args?.databaseSoftwareImageId;
            resourceInputs["dbSystemId"] = args?.dbSystemId;
            resourceInputs["dbVersion"] = args?.dbVersion;
            resourceInputs["definedTags"] = args?.definedTags;
            resourceInputs["displayName"] = args?.displayName;
            resourceInputs["enableDatabaseDelete"] = args?.enableDatabaseDelete;
            resourceInputs["freeformTags"] = args?.freeformTags;
            resourceInputs["isDesupportedVersion"] = args?.isDesupportedVersion;
            resourceInputs["isUnifiedAuditingEnabled"] = args?.isUnifiedAuditingEnabled;
            resourceInputs["kmsKeyId"] = args?.kmsKeyId;
            resourceInputs["kmsKeyVersionId"] = args?.kmsKeyVersionId;
            resourceInputs["source"] = args?.source;
            resourceInputs["vmClusterId"] = args?.vmClusterId;
            resourceInputs["compartmentId"] = undefined /*out*/;
            resourceInputs["dbHomeLocation"] = undefined /*out*/;
            resourceInputs["lastPatchHistoryEntryId"] = undefined /*out*/;
            resourceInputs["lifecycleDetails"] = undefined /*out*/;
            resourceInputs["state"] = undefined /*out*/;
            resourceInputs["systemTags"] = undefined /*out*/;
            resourceInputs["timeCreated"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(DbHome.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering DbHome resources.
 */
export interface DbHomeState {
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the compartment.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * (Updatable) Details for creating a database.
     *
     * **Warning:** Oracle recommends that you avoid using any confidential information when you supply string values using the API.
     */
    database?: pulumi.Input<inputs.Database.DbHomeDatabase>;
    /**
     * The database software image [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm)
     */
    databaseSoftwareImageId?: pulumi.Input<string>;
    /**
     * The location of the Oracle Database Home.
     */
    dbHomeLocation?: pulumi.Input<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the DB system.
     */
    dbSystemId?: pulumi.Input<string>;
    /**
     * A valid Oracle Database version. For a list of supported versions, use the ListDbVersions operation.
     *
     * This cannot be updated in parallel with any of the following: licenseModel, dbEdition, cpuCoreCount, computeCount, computeModel, adminPassword, whitelistedIps, isMTLSConnectionRequired, openMode, permissionLevel, dbWorkload, privateEndpointLabel, nsgIds, isRefreshable, dbName, scheduledOperations, dbToolsDetails, isLocalDataGuardEnabled, or isFreeTier.
     */
    dbVersion?: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The user-provided name of the Database Home.
     */
    displayName?: pulumi.Input<string>;
    enableDatabaseDelete?: pulumi.Input<boolean>;
    /**
     * Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * If true, the customer acknowledges that the specified Oracle Database software is an older release that is not currently supported by OCI.
     */
    isDesupportedVersion?: pulumi.Input<boolean>;
    /**
     * Indicates whether unified autiding is enabled or not. Set to True to enable unified auditing on respective DBHome.
     */
    isUnifiedAuditingEnabled?: pulumi.Input<boolean>;
    /**
     * The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
     */
    kmsKeyId?: pulumi.Input<string>;
    /**
     * The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation. Autonomous AI Database Serverless does not use key versions, hence is not applicable for Autonomous AI Database Serverless instances.
     */
    kmsKeyVersionId?: pulumi.Input<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the last patch history. This value is updated as soon as a patch operation is started.
     */
    lastPatchHistoryEntryId?: pulumi.Input<string>;
    /**
     * Additional information about the current lifecycle state.
     */
    lifecycleDetails?: pulumi.Input<string>;
    /**
     * The source of database: NONE for creating a new database. DB_BACKUP for creating a new database by restoring from a database backup. VM_CLUSTER_NEW for creating a database for VM Cluster.
     */
    source?: pulumi.Input<string>;
    /**
     * The current state of the Database Home.
     */
    state?: pulumi.Input<string>;
    /**
     * System tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     */
    systemTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The date and time the Database Home was created.
     */
    timeCreated?: pulumi.Input<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    vmClusterId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a DbHome resource.
 */
export interface DbHomeArgs {
    /**
     * (Updatable) Details for creating a database.
     *
     * **Warning:** Oracle recommends that you avoid using any confidential information when you supply string values using the API.
     */
    database?: pulumi.Input<inputs.Database.DbHomeDatabase>;
    /**
     * The database software image [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm)
     */
    databaseSoftwareImageId?: pulumi.Input<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the DB system.
     */
    dbSystemId?: pulumi.Input<string>;
    /**
     * A valid Oracle Database version. For a list of supported versions, use the ListDbVersions operation.
     *
     * This cannot be updated in parallel with any of the following: licenseModel, dbEdition, cpuCoreCount, computeCount, computeModel, adminPassword, whitelistedIps, isMTLSConnectionRequired, openMode, permissionLevel, dbWorkload, privateEndpointLabel, nsgIds, isRefreshable, dbName, scheduledOperations, dbToolsDetails, isLocalDataGuardEnabled, or isFreeTier.
     */
    dbVersion?: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The user-provided name of the Database Home.
     */
    displayName?: pulumi.Input<string>;
    enableDatabaseDelete?: pulumi.Input<boolean>;
    /**
     * Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).  Example: `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * If true, the customer acknowledges that the specified Oracle Database software is an older release that is not currently supported by OCI.
     */
    isDesupportedVersion?: pulumi.Input<boolean>;
    /**
     * Indicates whether unified autiding is enabled or not. Set to True to enable unified auditing on respective DBHome.
     */
    isUnifiedAuditingEnabled?: pulumi.Input<boolean>;
    /**
     * The OCID of the key container that is used as the master encryption key in database transparent data encryption (TDE) operations.
     */
    kmsKeyId?: pulumi.Input<string>;
    /**
     * The OCID of the key container version that is used in database transparent data encryption (TDE) operations KMS Key can have multiple key versions. If none is specified, the current key version (latest) of the Key Id is used for the operation. Autonomous AI Database Serverless does not use key versions, hence is not applicable for Autonomous AI Database Serverless instances.
     */
    kmsKeyVersionId?: pulumi.Input<string>;
    /**
     * The source of database: NONE for creating a new database. DB_BACKUP for creating a new database by restoring from a database backup. VM_CLUSTER_NEW for creating a database for VM Cluster.
     */
    source?: pulumi.Input<string>;
    /**
     * The [OCID](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/identifiers.htm) of the VM cluster.
     *
     *
     * ** IMPORTANT **
     * Any change to a property that does not support update will force the destruction and recreation of the resource with the new property values
     */
    vmClusterId?: pulumi.Input<string>;
}
