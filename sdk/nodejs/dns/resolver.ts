// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";
import * as utilities from "../utilities";

/**
 * This resource provides the Resolver resource in Oracle Cloud Infrastructure DNS service.
 * Api doc link for the resource: https://docs.oracle.com/iaas/api/#/en/dns/latest/Resolver
 *
 * Example terraform configs related to the resource : https://github.com/oracle/terraform-provider-oci/tree/master/examples/dns
 *
 * Updates the specified resolver with your new information.
 *
 * Note: Resolvers are associated with VCNs and created when a VCN is created. Wait until the created VCN's state shows as Available in the OCI Console before updating DNS resolver properties.
 * A VCN cannot be deleted while its resolver has resolver endpoints. Additionally, a resolver endpoint cannot be deleted if it is referenced in the resolver's rules. To remove rules from a resolver, update the resolver resource.
 *
 * Destroy behavior: This resource does not delete the underlying DNS Resolver. The resolver itself is deleted only when the attached VCN is deleted. When this Terraform resource is destroyed, managed properties on the resolver (for example, attached views and rules) are cleared so the VCN can be deleted.
 *
 * Default view behavior on VCN delete: If the resolver's default view contains customer-created zones, deleting the VCN (which deletes the resolver) can convert that default view into a non-protected regular view. That view may persist even if it was never imported into Terraform state. To avoid orphaned resources, either delete the zones from the default view before deleting the VCN, or plan to clean up the resulting view afterward.
 *
 * ## Import
 *
 * Resolvers can be imported using their OCID, e.g.
 *
 * ```sh
 * $ pulumi import oci:Dns/resolver:Resolver test_resolver "id"
 * ```
 */
export class Resolver extends pulumi.CustomResource {
    /**
     * Get an existing Resolver resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: ResolverState, opts?: pulumi.CustomResourceOptions): Resolver {
        return new Resolver(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'oci:Dns/resolver:Resolver';

    /**
     * Returns true if the given object is an instance of Resolver.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Resolver {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Resolver.__pulumiType;
    }

    /**
     * The OCID of the attached VCN.
     */
    declare public /*out*/ readonly attachedVcnId: pulumi.Output<string>;
    /**
     * (Updatable) The attached views. Views are evaluated in order.
     */
    declare public readonly attachedViews: pulumi.Output<outputs.Dns.ResolverAttachedView[] | undefined>;
    /**
     * (Updatable) The OCID of the owning compartment.
     */
    declare public readonly compartmentId: pulumi.Output<string>;
    /**
     * The OCID of the default view.
     */
    declare public /*out*/ readonly defaultViewId: pulumi.Output<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Operations": {"CostCenter": "42"}}`
     */
    declare public readonly definedTags: pulumi.Output<{[key: string]: string}>;
    /**
     * (Updatable) The display name of the resolver.
     */
    declare public readonly displayName: pulumi.Output<string>;
    /**
     * Read-only array of endpoints for the resolver.
     */
    declare public /*out*/ readonly endpoints: pulumi.Output<outputs.Dns.ResolverEndpoint[]>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Department": "Finance"}`
     */
    declare public readonly freeformTags: pulumi.Output<{[key: string]: string}>;
    /**
     * A Boolean flag indicating whether or not parts of the resource are unable to be explicitly managed.
     */
    declare public /*out*/ readonly isProtected: pulumi.Output<boolean>;
    /**
     * The OCID of the target resolver.
     */
    declare public readonly resolverId: pulumi.Output<string>;
    /**
     * (Updatable) Rules for the resolver. Rules are evaluated in order, and only the first matching rule will have its action applied.
     */
    declare public readonly rules: pulumi.Output<outputs.Dns.ResolverRule[] | undefined>;
    /**
     * Specifies to operate only on resources that have a matching DNS scope.
     */
    declare public readonly scope: pulumi.Output<string | undefined>;
    /**
     * The canonical absolute URL of the resource.
     */
    declare public /*out*/ readonly self: pulumi.Output<string>;
    /**
     * The current state of the resource.
     */
    declare public /*out*/ readonly state: pulumi.Output<string>;
    /**
     * The date and time the resource was created in "YYYY-MM-ddThh:mm:ssZ" format with a Z offset, as defined by RFC 3339.
     */
    declare public /*out*/ readonly timeCreated: pulumi.Output<string>;
    /**
     * The date and time the resource was last updated in "YYYY-MM-ddThh:mm:ssZ" format with a Z offset, as defined by RFC 3339.
     */
    declare public /*out*/ readonly timeUpdated: pulumi.Output<string>;

    /**
     * Create a Resolver resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: ResolverArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: ResolverArgs | ResolverState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as ResolverState | undefined;
            resourceInputs["attachedVcnId"] = state?.attachedVcnId;
            resourceInputs["attachedViews"] = state?.attachedViews;
            resourceInputs["compartmentId"] = state?.compartmentId;
            resourceInputs["defaultViewId"] = state?.defaultViewId;
            resourceInputs["definedTags"] = state?.definedTags;
            resourceInputs["displayName"] = state?.displayName;
            resourceInputs["endpoints"] = state?.endpoints;
            resourceInputs["freeformTags"] = state?.freeformTags;
            resourceInputs["isProtected"] = state?.isProtected;
            resourceInputs["resolverId"] = state?.resolverId;
            resourceInputs["rules"] = state?.rules;
            resourceInputs["scope"] = state?.scope;
            resourceInputs["self"] = state?.self;
            resourceInputs["state"] = state?.state;
            resourceInputs["timeCreated"] = state?.timeCreated;
            resourceInputs["timeUpdated"] = state?.timeUpdated;
        } else {
            const args = argsOrState as ResolverArgs | undefined;
            if (args?.resolverId === undefined && !opts.urn) {
                throw new Error("Missing required property 'resolverId'");
            }
            resourceInputs["attachedViews"] = args?.attachedViews;
            resourceInputs["compartmentId"] = args?.compartmentId;
            resourceInputs["definedTags"] = args?.definedTags;
            resourceInputs["displayName"] = args?.displayName;
            resourceInputs["freeformTags"] = args?.freeformTags;
            resourceInputs["resolverId"] = args?.resolverId;
            resourceInputs["rules"] = args?.rules;
            resourceInputs["scope"] = args?.scope;
            resourceInputs["attachedVcnId"] = undefined /*out*/;
            resourceInputs["defaultViewId"] = undefined /*out*/;
            resourceInputs["endpoints"] = undefined /*out*/;
            resourceInputs["isProtected"] = undefined /*out*/;
            resourceInputs["self"] = undefined /*out*/;
            resourceInputs["state"] = undefined /*out*/;
            resourceInputs["timeCreated"] = undefined /*out*/;
            resourceInputs["timeUpdated"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Resolver.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Resolver resources.
 */
export interface ResolverState {
    /**
     * The OCID of the attached VCN.
     */
    attachedVcnId?: pulumi.Input<string>;
    /**
     * (Updatable) The attached views. Views are evaluated in order.
     */
    attachedViews?: pulumi.Input<pulumi.Input<inputs.Dns.ResolverAttachedView>[]>;
    /**
     * (Updatable) The OCID of the owning compartment.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * The OCID of the default view.
     */
    defaultViewId?: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Operations": {"CostCenter": "42"}}`
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The display name of the resolver.
     */
    displayName?: pulumi.Input<string>;
    /**
     * Read-only array of endpoints for the resolver.
     */
    endpoints?: pulumi.Input<pulumi.Input<inputs.Dns.ResolverEndpoint>[]>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * A Boolean flag indicating whether or not parts of the resource are unable to be explicitly managed.
     */
    isProtected?: pulumi.Input<boolean>;
    /**
     * The OCID of the target resolver.
     */
    resolverId?: pulumi.Input<string>;
    /**
     * (Updatable) Rules for the resolver. Rules are evaluated in order, and only the first matching rule will have its action applied.
     */
    rules?: pulumi.Input<pulumi.Input<inputs.Dns.ResolverRule>[]>;
    /**
     * Specifies to operate only on resources that have a matching DNS scope.
     */
    scope?: pulumi.Input<string>;
    /**
     * The canonical absolute URL of the resource.
     */
    self?: pulumi.Input<string>;
    /**
     * The current state of the resource.
     */
    state?: pulumi.Input<string>;
    /**
     * The date and time the resource was created in "YYYY-MM-ddThh:mm:ssZ" format with a Z offset, as defined by RFC 3339.
     */
    timeCreated?: pulumi.Input<string>;
    /**
     * The date and time the resource was last updated in "YYYY-MM-ddThh:mm:ssZ" format with a Z offset, as defined by RFC 3339.
     */
    timeUpdated?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Resolver resource.
 */
export interface ResolverArgs {
    /**
     * (Updatable) The attached views. Views are evaluated in order.
     */
    attachedViews?: pulumi.Input<pulumi.Input<inputs.Dns.ResolverAttachedView>[]>;
    /**
     * (Updatable) The OCID of the owning compartment.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Operations": {"CostCenter": "42"}}`
     */
    definedTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * (Updatable) The display name of the resolver.
     */
    displayName?: pulumi.Input<string>;
    /**
     * (Updatable) Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see [Resource Tags](https://docs.cloud.oracle.com/iaas/Content/General/Concepts/resourcetags.htm).
     *
     * **Example:** `{"Department": "Finance"}`
     */
    freeformTags?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
    /**
     * The OCID of the target resolver.
     */
    resolverId: pulumi.Input<string>;
    /**
     * (Updatable) Rules for the resolver. Rules are evaluated in order, and only the first matching rule will have its action applied.
     */
    rules?: pulumi.Input<pulumi.Input<inputs.Dns.ResolverRule>[]>;
    /**
     * Specifies to operate only on resources that have a matching DNS scope.
     */
    scope?: pulumi.Input<string>;
}
